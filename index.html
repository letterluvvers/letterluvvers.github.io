<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Home</title>
	<!-- <link rel="stylesheet" href="css/style.css"> -->
</head>

<body>
	<header></header>
	<main>

		<h1>Letter Luvvers</h1>

		<div id="files">
			<ul></ul>
		</div>




	</main>
	<footer></footer>
</body>


<script>


fetch ("https://api.github.com/repos/letterluvvers/letterluvvers.github.io/contents/events/").then	(function(response) {
	return response.json();
}).then(function(data) {

	// list the files
	console.log(data);
	const ul = document.querySelector("#files ul");
	console.log(ul);
	for (let i = 0; i < data.length; i++) {

		//console.log(data[i].name);
		let eventNum = 1;
		let match;
		if (match = data[i].name.match(/^\d{4}-\d{2}-\d{2}$/)) {

			const li = document.createElement("li");
			const a = document.createElement("a");
			const img = document.createElement("img");
			console.log("it's a date", data[i].name, ` event #${eventNum}`);
			a.textContent = data[i].name;
			a.href = data[i].html_url;
			li.append(a);

			//img.src = data[i].path + "/_tile.jpg";
			img.src = "events/2022-07-20/tile.jpg";
			img.width = 200;
			img.height = 200;
			li.append(img);
			ul.append(li);

			eventNum++;
		}


		//document.querySelector("#files").append(ul);
	}
});


</script>
</html>
